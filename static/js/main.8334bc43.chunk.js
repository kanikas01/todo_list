(this["webpackJsonpgraphql-checklist"]=this["webpackJsonpgraphql-checklist"]||[]).push([[0],{27:function(e,t,n){e.exports=n(38)},36:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),o=n(22),c=n.n(o),i=n(11),u=n.n(i),s=n(18),l=n(15),d=n(14),f=n(12),p=n(10);function m(){var e=Object(d.a)(["\n  mutation deleteTodo($id: uuid!) {\n    delete_todos(where: { id: { _eq: $id } }) {\n      returning {\n        done\n        id\n        text\n      }\n    }\n  }\n"]);return m=function(){return e},e}function b(){var e=Object(d.a)(["\n  mutation addTodo($text: String!) {\n    insert_todos(objects: { text: $text }) {\n      returning {\n        done\n        id\n        text\n      }\n    }\n  }\n"]);return b=function(){return e},e}function h(){var e=Object(d.a)(["\n  mutation toggleTodo($id: uuid!, $done: Boolean!) {\n    update_todos(where: { id: { _eq: $id } }, _set: { done: $done }) {\n      returning {\n        done\n        id\n        text\n      }\n    }\n  }\n"]);return h=function(){return e},e}function v(){var e=Object(d.a)(["\n  query getTodos {\n    todos {\n      done\n      id\n      text\n    }\n  }\n"]);return v=function(){return e},e}var g=Object(p.b)(v()),x=Object(p.b)(h()),j=Object(p.b)(b()),k=Object(p.b)(m());var y=function(){var e=r.a.useState(""),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(f.b)(g),c=o.data,i=o.loading,d=o.error,p=Object(f.a)(x),m=Object(l.a)(p,1)[0],b=Object(f.a)(j,{onCompleted:function(){return a("")}}),h=Object(l.a)(b,1)[0],v=Object(f.a)(k),y=Object(l.a)(v,1)[0],O="vh-100 code flex flex-column items-center bg-dark-blue white pa3 fl-1";function w(){return(w=Object(s.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.done,e.next=3,m({variables:{id:n,done:!a}});case 3:r=e.sent,console.log("toggled todo",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,h({variables:{text:n},refetchQueries:[{query:g}]});case 5:a=e.sent,console.log("added todo",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(s.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,!window.confirm("Do you want to delete this todo?")){e.next=7;break}return e.next=5,y({variables:{id:n},update:function(e){var t=e.readQuery({query:g}).todos.filter((function(e){return e.id!==n}));e.writeQuery({query:g,data:{todos:t}})}});case 5:a=e.sent,console.log("deleted todo",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return i?r.a.createElement("div",{className:O},"Loading todos..."):d?r.a.createElement("div",{className:O},"Error fetching todos!"):r.a.createElement("div",{className:O},r.a.createElement("h1",{className:"f2-l"},"GraphQL Checklist"," ",r.a.createElement("span",{role:"img","aria-label":"Checkmark"},"\u2705")),r.a.createElement("h5",{className:"tc mt0 fl w-50"},"(Doubleclick on an item to cross it off, or click the '\xd7' to remove it.)"),r.a.createElement("form",{onSubmit:function(e){return E.apply(this,arguments)},className:"mb3"},r.a.createElement("input",{className:"pa2 f4 b--dashed",type:"text",placeholder:"write your todo",onChange:function(e){return a(e.target.value)},value:n}),r.a.createElement("button",{className:"pa2 f4 bg-green",type:"submit"},"Create")),r.a.createElement("div",{className:"flex items-center justify-center flex-column"},c.todos.map((function(e){return r.a.createElement("p",{onDoubleClick:function(){return function(e){return w.apply(this,arguments)}(e)},key:e.id},r.a.createElement("span",{className:"pointer list pa1 f3 ".concat(e.done&&"strike")},e.text),r.a.createElement("button",{className:"bg-transparent nt bn f4",onClick:function(){return function(e){return N.apply(this,arguments)}(e)}},r.a.createElement("span",{className:"red"},"\xd7")))}))))},O=n(7),w=(n(36),new p.a({uri:"https://todo-react-graphql.herokuapp.com/v1/graphql"}));c.a.render(r.a.createElement(O.a,{client:w},r.a.createElement(y,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.8334bc43.chunk.js.map